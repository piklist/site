<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>upgrading &#8211; Piklist Support</title>
	<atom:link href="https://piklist.com/support/topic-tag/upgrading/feed/" rel="self" type="application/rss+xml" />
	<link>https://piklist.com/support</link>
	<description>Get help with Piklist products</description>
	<lastBuildDate>Fri, 09 Sep 2016 09:11:54 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.5.8</generator>
	<item>
		<title>v0.9.9.9 &#8211; Invalid argument supplied for foreach()</title>
		<link>https://piklist.com/support/topic/v0-9-9-9-invalid-argument-supplied-for-foreach/</link>
		
		<dc:creator><![CDATA[dealerconsulting]]></dc:creator>
		<pubDate>Fri, 09 Sep 2016 09:11:54 +0000</pubDate>
				<guid isPermaLink="false">https://piklist.com/support/topic/v0-9-9-9-invalid-argument-supplied-for-foreach/</guid>

					<description><![CDATA[<p>Dear all! I&#8217;m glad to use piklist plugin and very apprieciative for your job. I&#8217;ve encountered the problem after upgrading to v.0.9.9.9 . Please look at the code below. 11th line indicates an error Invalid argument supplied for foreach() . foreach ($fields[$key][&#8216;request_value&#8217;] as $id) add_action( &#039;piklist_save_field&#039;, &#039;my_save_post&#039;, 10, 2 ); function my_save_post($scope, $fields) { global [&#8230;]</p>
<p>The post <a rel="nofollow" href="https://piklist.com/support/topic/v0-9-9-9-invalid-argument-supplied-for-foreach/">v0.9.9.9 &#8211; Invalid argument supplied for foreach()</a> appeared first on <a rel="nofollow" href="https://piklist.com/support">Piklist Support</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Dear all!</p>
<p>I&#8217;m glad to use piklist plugin and very apprieciative for your job.<br />
I&#8217;ve encountered the problem after upgrading to v.0.9.9.9 .<br />
Please look at the code below.<br />
11th line indicates an error </p>
<blockquote><p>Invalid argument supplied for foreach()</p></blockquote>
<p> .</p>
<p><strong>foreach ($fields[$key][&#8216;request_value&#8217;] as $id)</strong></p>
<pre><code>add_action( &#039;piklist_save_field&#039;, &#039;my_save_post&#039;, 10, 2 );

function my_save_post($scope, $fields) {
        global $wpdb;
        if ($scope == &#039;relate-reverse&#039;)
        {
                foreach ($fields as $key =&gt; $value)
                {
                        if (substr_compare($key, &#039;_relate_id&#039;, -strlen(&#039;_relate_id&#039;), strlen(&#039;_relate_id&#039;)) === 0)
                        {
                                foreach ($fields[$key][&#039;request_value&#039;] as $id)
                                {
                                        foreach ($fields as $key =&gt; $value)
                                        {
                                                if (substr_compare($key, &#039;_post_id&#039;, -strlen(&#039;_post_id&#039;), strlen(&#039;_post_id&#039;)) === 0)
                                                {
                                                        foreach ($fields[$key][&#039;request_value&#039;] as $post_ids)
                                                        {
                                                                foreach ($post_ids as $post_id)
                                                                {
                                                                                PikList_Form::relate($post_id, array($id));
                                                                }
                                                        }
                                                }

                                                if (substr_compare($key, &#039;_relate_remove&#039;, -strlen(&#039;_relate_remove&#039;), strlen(&#039;_relate_remove&#039;)) === 0)
                                                {
                                                        $remove = array_filter(explode(&#039;,&#039;, $fields[$key][&#039;request_value&#039;][0]));
                                                        foreach ($remove as $has)
                                                        {
                                                                if ($found = $wpdb-&gt;get_var($wpdb-&gt;prepare(&quot;SELECT relate_id FROM {$wpdb-&gt;prefix}post_relationships WHERE post_id = %d AND has_post_id = %d&quot;, $has, $id)))
                                                                {
                                                                        $wpdb-&gt;query($wpdb-&gt;prepare(&quot;DELETE FROM {$wpdb-&gt;prefix}post_relationships WHERE relate_id = %d&quot;, $found));
                                                                }
                                                        }
                                                }
                                        }
                                }
                        }
                }
        }
}</code></pre>
<p>Thank you for your support.</p>
<p>Regards,<br />
Arek</p>
<p>The post <a rel="nofollow" href="https://piklist.com/support/topic/v0-9-9-9-invalid-argument-supplied-for-foreach/">v0.9.9.9 &#8211; Invalid argument supplied for foreach()</a> appeared first on <a rel="nofollow" href="https://piklist.com/support">Piklist Support</a>.</p>
]]></content:encoded>
					
		
		
			</item>
	</channel>
</rss>
